# Zerodha_Live_Automate_Trading-_using_AI_ML_on_Indian_stock_market

Online trading using Artificial Intelligence Machine leaning with python on Indian Stock Market, trading using live bots indicators screener and backtesters using rest api and websocket.

Zerodha    - Automated Python program for trading in Indian stock market.      Worked individually on an Automated live project of Indian stock market for live trade, an automated python program which trade automatically on Indian stock market NSE/BSE using screener, indicators and backtester with our own strategy. Screener is a python program which sort the top stocks of Indian market and then we trade on that sorted stocks, and indicator is a program which shows the phase of Indian market or trend of market, And after that when we get the sorted stock then we backtest the particular stock before trading on it through our backtesting program which backtest it on historical data of few months and then find the probability of the profit and loss on that stock or we can say that we predict the future of market.Using screener ,indicator, backtester and our own strategy we made our Automated live bot which trade automatically in Indian stock market through Zerodha, an online broker using API of Zerodha kite and library KiteConnect we access the historical data of Indian Stock Market and after analyzing the historical data of stock Market, we made our bot using screener indicator backtest with our own strategy and place orders on Indian stock exchange to get profits through different strategy and Indicators made by us using numpy pandas and matplotlib .while working on this project I made so many indicators on Indian stock market like SMA, EMA ,Bollinger Band, RSI , ATR and GUPPY etc.  And Stock market Screener “RSI Screener ” and “Guppy Screener”. Some of my live working buy/sell bots are “RSI BOT” and “GUPPY BOT” which trade automatically started automatically for trading on NIFTY_50 , future stocks etc in morning at 9:15 and end trading on 3:15 and shows the result PnL, profit/loss and all the orders and full result of day in csv file etc.  

Kite Connect is a set of REST-like HTTP APIs that expose many capabilities required to build a complete stock market investment and trading platform. It lets you execute orders in real time (equities, commodities, mutual funds), manage user portfolios, stream live market data over WebSockets, and more
Zerodha is an Indian financial service company (member of NSE, BSE, MCX, MCX-SX),that offers retail and institutional broking, currencies and commodities trading, mutual funds, and bonds. Founded in 2010, Zerodha is known for its discount pricing model and technology. It is headquartered in Bengaluru and has physical presence in all major Indian cities.
As of 2019, Zerodha is the largest retail stock broker in India by active client base, and contributes upwards of 10% of daily retail volumes across Indian stock exchanges.

1. Getting Started with Zerodha ,Starting new project with zerodha :- Login to zerodha, Finding " Instrument Token list of zerodha, Finding a token from symbol,INPUTS, Getting HISTORICAL DATA,Getting continous data of stock,for last trade price of stock, for last ohlc of stock, FOR PLACING AN ORDER, Cancel an order, Exit from an order, Order Placed information, Open positions, Holdings you have, Websocket, Websocket threading, STATUS of order from websocket.

2. BACKTESTIG_PROGRAM == What is Backtesting?
Zerodha backtesting is a trading strategy that is based on historical data, where traders use past data to see how a strategy would have performed. The definition of a backtesting application is a set of technical rules applied to a set of historical price data, and the subsequent analysis of the returns that a Zerodha strategy would have generated over a specific period of time.
Backtesting is a type of program that allows traders to test potential trading strategies using historical data. The program recreates the behaviour of trades and their reaction to a Zerodha trading strategy, and the resulting data can then be used to measure and optimise the effectiveness of a given strategy before applying it to real market conditions. Backtesting strategies work on the assumption that trades that have performed successfully in the past will perform well in the future
How Does a Backtester Work?
Zerodha trading strategies are applied to a set of price data, and trades are reconstructed using that data. This data can be used by traders to ascertain any unforeseen flaws in their current strategies. Alternatively, new strategies can also be tested before using them in the live markets. Depending on the type of back testing software used in Zerodha trading, traders can get a wide range of indicators, such as:
Total Return on Equity (ROE): Returns, expressed in terms of percentage of the total equity invested.
Total Profit and Loss (P/L): Total profits and losses generated by a strategy, expressed as a percentage of the invested equity.
Total Gain/Loss Ratio: The ratio of how many trades resulted in gains, and how many in losses.
Annualised ROE: The total return likely to be generated by a Zerodha strategy over the entire calendar year.
Volatility: What kind of market conditions were your strategies working in, uptrends, and downtrends.
Risk-Adjusted Returns: Calculating your returns in relation to the risks involved within a strategy.
All these metrics provide you with insights about how your Zerodha trading strategies are performing.

3. Historical Data Download Code for any stock of Stock Market;- This code will download historical data of any stocks or multiple stocks in csv

4.Stock_Screener (GUPPY)
What is a Stock Screener?
A stock screener is a tool to shortlist few companies from a pool of all the listed companies on a stock exchange using filters on the basis of indicator result (RSI,GUPPY,SMA,).shows the result of buy and sell stocks, which one is better option for buy or sell .
The investors specify the filters and the stock screener gives the results accordingly. Stock screeners are very useful as it can save you a lot of time.
You do not need to go through all the listed companies to shortlist few good ones. You can just apply the basic filter to get the list of few good ones that you want to investigate further. Overall, the stock screener will help you to find good performing stocks according to your specifications with a single click.

5.INDICATORS (ATR,RSI,SMA,EMA,Bollinger band ) on Historical_data 'SBI'
What Is a Technical Indicator?
Technical indicators are heuristic or mathematical calculations based on the price, volume, or open interest of a security or contract used by traders who follow technical analysis. By analyzing historical data, technical analysts use indicators to predict future price movements. Examples of common technical indicators include the Relative Strength Index, Money Flow Index, Stochastics, MACD and Bollinger Bands®.
How Technical Indicators Work ?
Technical analysis is a trading discipline employed to evaluate investments and identify trading opportunities by analyzing statistical trends gathered from trading activity, such as price movement and volume. Unlike fundamental analysts, who attempt to evaluate a security's intrinsic value based on financial or economic data, technical analysts focus on patterns of price movements, trading signals and various other analytical charting tools to evaluate a security's strength or weakness. Technical analysis can be used on any security with historical trading data. This includes stocks, futures, commodities, fixed-income, currencies, and other securities. In this tutorial, we’ll usually analyze stocks in our examples, but keep in mind that these concepts can be applied to any type of security. In fact, technical analysis is far more prevalent in commodities and forex markets where traders focus on short-term price movements. Technical indicators, also known as "technicals", are focused on historical trading data, such as price, volume, and open interest, rather than the fundamentals of a business, like earnings, revenue, or profit margins. Technical indicators are commonly used by active traders, since they're designed to analyze short-term price movements, but long-term investors may also use technical indicators to identify entry and exit points.
There are two basic types of technical indicators:
Overlays - Technical indicators that use the same scale as prices are plotted over the top of the prices on a stock chart. Examples include moving averages and Bollinger Bands®.
Oscillators - Technical indicators that oscillate between a local minimum and maximum are plotted above or below a price chart. Examples include the stochastic oscillator, MACD or RSI.
RSI (Relative Strength Index)=The RSI is classified as a momentum oscillator, measuring the velocity and magnitude of directional price movements. Momentum is the rate of the rise or fall in price. The RSI computes momentum as the ratio of higher closes to lower closes. Stocks which have had more or stronger positive changes have a higher RSI than stocks which have had more or stronger negative changes. The indicator has an upper line, typically at 70, a lower line at 30, and a dashed mid-line at 50. When price moves up very rapidly, at some point it is considered overbought (When the RSI crosses 70). Likewise, when price falls very rapidly, at some point it is considered oversold (When the RSI crosses 30) the level of the RSI is a measure of the stock's recent trading strength. The slope of the RSI is directly proportional to the velocity of a change in the trend. The distance travelled by the RSI is proportional to the magnitude of the move. *** https://www.businesstoday.in/markets/stocks/five-technical-indicators-you-should-know-as-an-investor-rohit-gadia-capital-via/story/221116.html
SMA (simple moving average) Moving averages is one of the oldest and most useful technical indicators in technical analysis. Moving shows a trend in a "smoothed" manner and can give reliable signals when used in tandem with other oscillators like MACD and RSI. Simple moving average (SMA), exponential moving average (EMA) and weighted moving average (WMA) are the three types of moving averages. For stocks, common time periods for moving averages are 10 days, 21 days, 50 days, 100 days and 200 days. The most commonly used moving average is the simple moving average (SMA). Single SMAs can be used to identify a trend but we find that dual or triple moving average is more powerful when combined together.
https://www.businesstoday.in/markets/stocks/five-technical-indicators-you-should-know-as-an-investor-rohit-gadia-capital-via/story/221116.html
 Bollinger band Bollinger Bands are a technical trading tool created by John Bollinger in the early 1980s. The purpose of Bollinger Bands is to provide a relative definition of high and low. By definition prices are high at the upper band and low at the lower band. This definition can aid in rigorous pattern recognition and is useful in comparing price action to the action of indicators. Bollinger Bands consist of a set of three curves drawn in relation to securities prices. The middle band is a measure of the intermediate-term trend, usually a simple moving average that serves as the base for the upper band and lower band. The interval between the upper and lower bands and the middle band is determined by volatility, typically the standard deviation of the same data that were used for the average. The default parameters, 20 periods and two standard deviations, may be adjusted to suit your purpose.
MACD=Trend and momentum indicator
The difference between 12 and 26-day moving averages.
Rising Moving Average Convergence Divergence (MACD) indicates an upward price trend and falling MACD indicates a downward price trend.
Usually, nine-day moving average of MACD is used for buy and sell calls. Buy when MACD goes above the nine-day moving average of MACD, sell when MACD go below the nineday moving average.
https://economictimes.indiatimes.com/wealth/invest/7-stock-market-technical-indicators-that-can-help-you-invest/articleshow/63342749.cms?from=mdr

6. Stock_Screener (GUPPY)
What is a Stock Screener?
A stock screener is a tool to shortlist few companies from a pool of all the listed companies on a stock exchange using filters on the basis of indicator result (RSI,GUPPY,SMA,).shows the result of buy and sell stocks, which one is better option for buy or sell .
The investors specify the filters and the stock screener gives the results accordingly. Stock screeners are very useful as it can save you a lot of time.
You do not need to go through all the listed companies to shortlist few good ones. You can just apply the basic filter to get the list of few good ones that you want to investigate further. Overall, the stock screener will help you to find good performing stocks according to your specifications with a single click.

7.Trading Live BOT (1) == BUY-SELL BOT on RSI¶
What is a Trading BOT ?
A Zerodha trading robot is a computer program based on a set of indian trading signals that helps determine whether to buy or sell a currency pair at a given point in time. Zerodha robots are designed to remove the psychological element of trading, which can be detrimental. While trading systems can be purchased online, traders should exercise caution when buying them this way.
Trading bots are widely available programs that connect to a user’s indian exchange and make trades on their behalf. They work using a variety of indicators and signals, such as moving averages and indices. The idea is simple: to help users make money in the markets, while not wasting a lot of their time. The underlying assumption is that computers are much better at trading than humans could ever be, because trading is all about mathematics and complex calculations of probability.
About this BOT
This is the automated BUY and SELL code for zerodha , it will buy order and sell that order on indian exchange based on buy/sell strategy implemented on code.
BOT STRATEGY:-
Place an order when RSI is greater then 30,when high breaks next high,place BUY SL order on current high when BUY SL order implemented on ZERODHA place an order of SELL on lowest lowcand if RSI cross70:cancel the SELL SL bid place MARET order of BUY bid.Full strategy mention below.
Import All libraries required for BOT
8.Trading Live BOT (2) ==
About this Trading BOT
This is a small program which first scan all the stocks using guppy Screener and sort all the buy and sell stocks in timeframe of 5, 10,15 minutes and shows the result. after it will find the common stock from all timeframe of buy and sell and then we have to enter a stock from above list to run the buy/sell program. and it will buy a stock on green signal from indicator and on red signal sell a stock 

9. Trading Live BOT (3) == BUY-SELL bot on Guppy indicator 4 colours
What is a Trading BOT ?
A Zerodha trading robot is a computer program based on a set of indian trading signals that helps determine whether to buy or sell a currency pair at a given point in time. Zerodha robots are designed to remove the psychological element of trading, which can be detrimental. While trading systems can be purchased online, traders should exercise caution when buying them this way.

Trading bots are widely available programs that connect to a user’s indian exchange and make trades on their behalf. They work using a variety of indicators and signals, such as moving averages and indices. The idea is simple: to help users make money in the markets, while not wasting a lot of their time. The underlying assumption is that computers are much better at trading than humans could ever be, because trading is all about mathematics and complex calculations of probability.

About this Trading BOT
This is the automated BUY and SELL code for zerodha , it will first scan all the tokens on guppy indicator using screener on 5 minute 15 minute and 30 minute and shows the result of buy sell from all 3 timeframe and after the token which is high priority of buy /sell will sort out and then we have to select on which stock we want to rrun our bot at which timefrme quantity and exchange. we can place order any stock which we want .

GUPPY CONCEPT FOR THIS BOT?
if GREEN:
buy x amount                 -------------------------------------------------(A)
if BLUE:
check exection of (A)
if (A) executed : SELL X/2               ------------------------------------(Z)
if RED:
if A executed: SELL 2X                                ------------------------(B)
if A not exeecuted - cancel (A)
                     sell X amount                    ------------------------(C)
@ ** if will execute only when BLUE occurs , if Z bit is placed **
Check execution of B:
if (B) executed + if (Z) executed : SELL x/2 --------------- (Y)
if (B) executed and if (Z) not executed : cancel (Z)   
if AQUA:
if (B) executed : BUY x/2    (MARKET)                   ---------------------(D)
if (C) executed : BUY x/2    (MARKET)                  ----------------------(E)
if GREEN:
(PART A)
    if (B) executed : BUY 2X                           -----------------------(F)
        if (B) not executed:
        cancel (B), and wait for RED
(PART B)
     if (C) executed : BUY 2X                         ------------------------(G)
     if (C) not executed: 
        cancel (C) , and wait for RED   
@ ** if will execute only when AQUA occurs ** Check execution of G or F: (CASE A)
      if (F) executed + if (D) executed : SELL x/2           --------------- (H)
      if (F) executed and if (D) not executed : cancel (D)  
(CASE B)
    if (G) executed + if (E) executed : SELL x/2              --------------- (I)
    if (G) executed and if (E) not executed : cancel (E)   
if BLUE:
if (F) executed: SELL x/2  (MARKET)
if (G) executed : SELL x/2 (MARKET)
if RED: continue from red again:

10.Trading Live BOT (4) == Advance Multiple bot of buy/sell in one BOT with screener, backtestig
About this Trading BOT
Screener is implemented :- A stock screener is a tool to shortlist few companies from a pool of all the listed companies on a stock exchange using filters on the basis of indicator result (RSI,GUPPY,SMA,).shows the result of buy and sell stocks, which one is better option for buy or sell . The investors specify the filters and the stock screener gives the results accordingly. Stock screeners are very useful as it can save you a lot of time. You do not need to go through all the listed companies to shortlist few good ones. You can just apply the basic filter to get the list of few good ones that you want to investigate further. Overall, the stock screener will help you to find good performing stocks according to your specifications with a single click.
backtesting is implemented in it on last 6 working days of zerodha :- Zerodha backtesting is a trading strategy that is based on historical data, where traders use past data to see how a strategy would have performed. The definition of a backtesting application is a set of technical rules applied to a set of historical price data, and the subsequent analysis of the returns that a Zerodha strategy would have generated over a specific period of time. Backtesting is a type of program that allows traders to test potential trading strategies using historical data. The program recreates the behaviour of trades and their reaction to a Zerodha trading strategy, and the resulting data can then be used to measure and optimise the effectiveness of a given strategy before applying it to real market conditions. Backtesting strategies work on the assumption that trades that have performed successfully in the past will perform well in the future.
shows all the orders and profit and loss at 3 pm
multiple trade at same time
BOT STRATEGY:-
This is an advance bot , this code start buy trade on when indicator gives green signal and sell on red signal , and sell a stock on red signal of indicator and buy when it gives green signal. this bot trade on multiple stocks at same time , all other bots work only on one stock at a time, but this bot will work on multiple stocks at a time. it will first scan all the stocks of nifty 50 and when it gets any of buy/sell stock it wil place order and manage that stock it can trade on multiple stock at same time and continue monitoring all stocks

11. Trading Live BOT (5)== FULL automated bot on GUPPY indicator
About this Trading BOT
start bot with 2 inputs of buy/sell and timeframe then it will scan all the stock and automatically pick the best stock among all the stock and place order on the best stock and continue with it . if u want to run bot you can continue bot without scanning and run normal bot also.

